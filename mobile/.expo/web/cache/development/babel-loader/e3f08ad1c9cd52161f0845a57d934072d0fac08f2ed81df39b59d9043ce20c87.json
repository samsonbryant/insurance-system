{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { authAPI } from \"../services/api\";\nimport NetInfo from '@react-native-community/netinfo';\nimport realTimeService from \"../services/realTimeService\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar AuthContext = createContext();\nexport var useAuth = function useAuth() {\n  var context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isAuthenticated = _useState4[0],\n    setIsAuthenticated = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isOnline = _useState8[0],\n    setIsOnline = _useState8[1];\n  useEffect(function () {\n    checkAuthStatus();\n    checkNetworkStatus();\n  }, []);\n  var checkAuthStatus = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var token = yield AsyncStorage.getItem('accessToken');\n        var userData = yield AsyncStorage.getItem('user');\n        if (token && userData) {\n          try {\n            var response = yield authAPI.getProfile();\n            var parsedUser = JSON.parse(userData);\n            setUser(parsedUser);\n            setIsAuthenticated(true);\n            console.log('AuthContext: User authenticated successfully');\n          } catch (tokenError) {\n            console.log('AuthContext: Token validation failed, clearing auth data');\n            yield AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n            setUser(null);\n            setIsAuthenticated(false);\n          }\n        } else {\n          console.log('AuthContext: No token or user data found');\n          setUser(null);\n          setIsAuthenticated(false);\n        }\n      } catch (error) {\n        console.error('AuthContext: Error checking auth status:', error);\n        try {\n          yield AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n        } catch (clearError) {\n          console.error('AuthContext: Error clearing corrupted data:', clearError);\n        }\n        setUser(null);\n        setIsAuthenticated(false);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function checkAuthStatus() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var checkNetworkStatus = function checkNetworkStatus() {\n    var unsubscribe = NetInfo.addEventListener(function (state) {\n      setIsOnline(state.isConnected);\n    });\n    return unsubscribe;\n  };\n  var login = function () {\n    var _ref3 = _asyncToGenerator(function* (credentials) {\n      try {\n        setLoading(true);\n        var response = yield authAPI.login(credentials);\n        var userData = response.user,\n          accessToken = response.accessToken,\n          refreshToken = response.refreshToken;\n        yield AsyncStorage.multiSet([['accessToken', accessToken], ['refreshToken', refreshToken], ['user', JSON.stringify(userData)]]);\n        setUser(userData);\n        setIsAuthenticated(true);\n        realTimeService.connect(accessToken);\n        return {\n          success: true,\n          user: userData\n        };\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('Login error:', error);\n        var errorMessage = ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.error) || 'Login failed';\n        return {\n          success: false,\n          error: errorMessage\n        };\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function login(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var logout = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        console.log('AuthContext: Starting logout process...');\n        setLoading(true);\n        console.log('AuthContext: Calling logout API...');\n        try {\n          yield authAPI.logout();\n          console.log('AuthContext: Logout API call successful');\n        } catch (apiError) {\n          console.log('AuthContext: Logout API call failed, but continuing with local cleanup:', apiError.message);\n        }\n        console.log('AuthContext: Clearing stored data...');\n        try {\n          yield AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n          console.log('AuthContext: Stored data cleared');\n        } catch (storageError) {\n          console.log('AuthContext: Error clearing storage, but continuing:', storageError.message);\n        }\n        console.log('AuthContext: Clearing user state...');\n        setUser(null);\n        setIsAuthenticated(false);\n        console.log('AuthContext: User state cleared, isAuthenticated set to false');\n        console.log('AuthContext: Disconnecting from real-time service...');\n        try {\n          realTimeService.disconnect();\n          console.log('AuthContext: Real-time service disconnected');\n        } catch (realtimeError) {\n          console.log('AuthContext: Error disconnecting real-time service:', realtimeError.message);\n        }\n        console.log('AuthContext: Logout completed successfully');\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('AuthContext: Unexpected logout error:', error);\n        try {\n          console.log('AuthContext: Attempting emergency cleanup...');\n          yield AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n          setUser(null);\n          setIsAuthenticated(false);\n          realTimeService.disconnect();\n          console.log('AuthContext: Emergency cleanup completed');\n          return {\n            success: true\n          };\n        } catch (emergencyError) {\n          console.error('AuthContext: Emergency cleanup failed:', emergencyError);\n          return {\n            success: false,\n            error: 'Failed to logout completely'\n          };\n        }\n      } finally {\n        setLoading(false);\n        console.log('AuthContext: Logout process finished, loading set to false');\n      }\n    });\n    return function logout() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var updateProfile = function () {\n    var _ref5 = _asyncToGenerator(function* (profileData) {\n      try {\n        setLoading(true);\n        var response = yield authAPI.updateProfile(profileData);\n        var updatedUser = response.user;\n        yield AsyncStorage.setItem('user', JSON.stringify(updatedUser));\n        setUser(updatedUser);\n        return {\n          success: true,\n          user: updatedUser\n        };\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        console.error('Update profile error:', error);\n        var errorMessage = ((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.error) || 'Update failed';\n        return {\n          success: false,\n          error: errorMessage\n        };\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function updateProfile(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var refreshUserData = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      try {\n        var response = yield authAPI.getProfile();\n        var userData = response.user;\n        yield AsyncStorage.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n        return {\n          success: true,\n          user: userData\n        };\n      } catch (error) {\n        console.error('Refresh user data error:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return function refreshUserData() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var hasRole = function hasRole(role) {\n    return (user == null ? void 0 : user.role) === role;\n  };\n  var hasAnyRole = function hasAnyRole(roles) {\n    return roles.includes(user == null ? void 0 : user.role);\n  };\n  var isAdmin = function isAdmin() {\n    return hasRole('admin');\n  };\n  var isCompany = function isCompany() {\n    return hasRole('company');\n  };\n  var isOfficer = function isOfficer() {\n    return hasRole('officer');\n  };\n  var value = {\n    user: user,\n    isAuthenticated: isAuthenticated,\n    loading: loading,\n    isOnline: isOnline,\n    login: login,\n    logout: logout,\n    updateProfile: updateProfile,\n    refreshUserData: refreshUserData,\n    hasRole: hasRole,\n    hasAnyRole: hasAnyRole,\n    isAdmin: isAdmin,\n    isCompany: isCompany,\n    isOfficer: isOfficer,\n    setLoading: setLoading\n  };\n  return _jsx(AuthContext.Provider, {\n    value: value,\n    children: children\n  });\n};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","AsyncStorage","authAPI","NetInfo","realTimeService","jsx","_jsx","AuthContext","useAuth","context","Error","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","isAuthenticated","setIsAuthenticated","_useState5","_useState6","loading","setLoading","_useState7","_useState8","isOnline","setIsOnline","checkAuthStatus","checkNetworkStatus","_ref2","_asyncToGenerator","token","getItem","userData","response","getProfile","parsedUser","JSON","parse","console","log","tokenError","multiRemove","error","clearError","apply","arguments","unsubscribe","addEventListener","state","isConnected","login","_ref3","credentials","accessToken","refreshToken","multiSet","stringify","connect","success","_error$response","_error$response$data","errorMessage","data","_x","logout","_ref4","apiError","message","storageError","disconnect","realtimeError","emergencyError","updateProfile","_ref5","profileData","updatedUser","setItem","_error$response2","_error$response2$data","_x2","refreshUserData","_ref6","hasRole","role","hasAnyRole","roles","includes","isAdmin","isCompany","isOfficer","value","Provider"],"sources":["/Users/user/Desktop/Insurrance_Verification_System/mobile/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { authAPI } from '../services/api';\nimport NetInfo from '@react-native-community/netinfo';\nimport realTimeService from '../services/realTimeService';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [isOnline, setIsOnline] = useState(true);\n\n  useEffect(() => {\n    checkAuthStatus();\n    checkNetworkStatus();\n  }, []);\n\n  const checkAuthStatus = async () => {\n    try {\n      const token = await AsyncStorage.getItem('accessToken');\n      const userData = await AsyncStorage.getItem('user');\n      \n      if (token && userData) {\n        try {\n          // Validate token by making a test API call\n          const response = await authAPI.getProfile();\n          const parsedUser = JSON.parse(userData);\n          setUser(parsedUser);\n          setIsAuthenticated(true);\n          console.log('AuthContext: User authenticated successfully');\n        } catch (tokenError) {\n          console.log('AuthContext: Token validation failed, clearing auth data');\n          await AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n          setUser(null);\n          setIsAuthenticated(false);\n        }\n      } else {\n        console.log('AuthContext: No token or user data found');\n        setUser(null);\n        setIsAuthenticated(false);\n      }\n    } catch (error) {\n      console.error('AuthContext: Error checking auth status:', error);\n      // Clear any corrupted data\n      try {\n        await AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n      } catch (clearError) {\n        console.error('AuthContext: Error clearing corrupted data:', clearError);\n      }\n      setUser(null);\n      setIsAuthenticated(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const checkNetworkStatus = () => {\n    const unsubscribe = NetInfo.addEventListener(state => {\n      setIsOnline(state.isConnected);\n    });\n    return unsubscribe;\n  };\n\n  const login = async (credentials) => {\n    try {\n      setLoading(true);\n      const response = await authAPI.login(credentials);\n      \n      const { user: userData, accessToken, refreshToken } = response;\n      \n      // Store tokens and user data\n      await AsyncStorage.multiSet([\n        ['accessToken', accessToken],\n        ['refreshToken', refreshToken],\n        ['user', JSON.stringify(userData)]\n      ]);\n      \n      setUser(userData);\n      setIsAuthenticated(true);\n      \n      // Connect to real-time service\n      realTimeService.connect(accessToken);\n      \n      return { success: true, user: userData };\n    } catch (error) {\n      console.error('Login error:', error);\n      const errorMessage = error.response?.data?.error || 'Login failed';\n      return { success: false, error: errorMessage };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const logout = async () => {\n    try {\n      console.log('AuthContext: Starting logout process...');\n      setLoading(true);\n      \n      // Call logout API\n      console.log('AuthContext: Calling logout API...');\n      try {\n        await authAPI.logout();\n        console.log('AuthContext: Logout API call successful');\n      } catch (apiError) {\n        console.log('AuthContext: Logout API call failed, but continuing with local cleanup:', apiError.message);\n      }\n      \n      // Clear stored data\n      console.log('AuthContext: Clearing stored data...');\n      try {\n        await AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n        console.log('AuthContext: Stored data cleared');\n      } catch (storageError) {\n        console.log('AuthContext: Error clearing storage, but continuing:', storageError.message);\n      }\n      \n      // Clear state\n      console.log('AuthContext: Clearing user state...');\n      setUser(null);\n      setIsAuthenticated(false);\n      console.log('AuthContext: User state cleared, isAuthenticated set to false');\n      \n      // Disconnect from real-time service\n      console.log('AuthContext: Disconnecting from real-time service...');\n      try {\n        realTimeService.disconnect();\n        console.log('AuthContext: Real-time service disconnected');\n      } catch (realtimeError) {\n        console.log('AuthContext: Error disconnecting real-time service:', realtimeError.message);\n      }\n      \n      console.log('AuthContext: Logout completed successfully');\n      return { success: true };\n    } catch (error) {\n      console.error('AuthContext: Unexpected logout error:', error);\n      // Even if everything fails, try to clear local data\n      try {\n        console.log('AuthContext: Attempting emergency cleanup...');\n        await AsyncStorage.multiRemove(['accessToken', 'refreshToken', 'user']);\n        setUser(null);\n        setIsAuthenticated(false);\n        realTimeService.disconnect();\n        console.log('AuthContext: Emergency cleanup completed');\n        return { success: true };\n      } catch (emergencyError) {\n        console.error('AuthContext: Emergency cleanup failed:', emergencyError);\n        return { success: false, error: 'Failed to logout completely' };\n      }\n    } finally {\n      setLoading(false);\n      console.log('AuthContext: Logout process finished, loading set to false');\n    }\n  };\n\n  const updateProfile = async (profileData) => {\n    try {\n      setLoading(true);\n      const response = await authAPI.updateProfile(profileData);\n      \n      const { user: updatedUser } = response;\n      \n      // Update stored user data\n      await AsyncStorage.setItem('user', JSON.stringify(updatedUser));\n      setUser(updatedUser);\n      \n      return { success: true, user: updatedUser };\n    } catch (error) {\n      console.error('Update profile error:', error);\n      const errorMessage = error.response?.data?.error || 'Update failed';\n      return { success: false, error: errorMessage };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refreshUserData = async () => {\n    try {\n      const response = await authAPI.getProfile();\n      const { user: userData } = response;\n      \n      await AsyncStorage.setItem('user', JSON.stringify(userData));\n      setUser(userData);\n      \n      return { success: true, user: userData };\n    } catch (error) {\n      console.error('Refresh user data error:', error);\n      return { success: false, error: error.message };\n    }\n  };\n\n  const hasRole = (role) => {\n    return user?.role === role;\n  };\n\n  const hasAnyRole = (roles) => {\n    return roles.includes(user?.role);\n  };\n\n  const isAdmin = () => hasRole('admin');\n  const isCompany = () => hasRole('company');\n  const isOfficer = () => hasRole('officer');\n\n  const value = {\n    user,\n    isAuthenticated,\n    loading,\n    isOnline,\n    login,\n    logout,\n    updateProfile,\n    refreshUserData,\n    hasRole,\n    hasAnyRole,\n    isAdmin,\n    isCompany,\n    isOfficer,\n    setLoading\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}